Import('*')

e = env.Clone()

e.Append(CPPPATH=['/usr/include/bullet'])
e.Append(LIBPATH=['/usr/lib'])

# Find uic output
e.Append(CPPPATH='.')

e.Append(LIBS=['GL', 'GLU', 'BulletDynamics', 'BulletCollision', 'LinearMath'])
#e.Append(LIBS=['/usr/lib/BulletDynamics.a', '/usr/lib/BulletCollision.a', '/usr/lib/LinearMath.a'])

p1 = e.Program('simulator', [
	'main.cpp',
	'SimControl.cpp',
	'Config.cpp',
	'Physics/Env.cpp',
	'Physics/Entity.cpp',
	'Physics/Ball.cpp',
	'Physics/Field.cpp',
	'Physics/Robot.cpp'])

uics = e.Uic4([
	'SimControl.ui'
])
e.Depends(p1, uics)

# add demos for testing
p2 = e.Program('bullet_demo', 'bullet_demo.cpp')
Default(e.Install(exec_dir, p2))

Default(e.Install(exec_dir, p1))
Help('simulator: Provides simulation of SSL robots, using Bullet Physics\n')
