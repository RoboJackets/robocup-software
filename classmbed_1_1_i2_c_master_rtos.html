<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GT RoboCup SSL: mbed::I2CMasterRtos Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rj_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">GT RoboCup SSL
   </div>
   <div id="projectbrief">Soccer software, robot firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classmbed_1_1_i2_c_master_rtos.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classmbed_1_1_i2_c_master_rtos-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mbed::I2CMasterRtos Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>I2C master interface to the RTOS-I2CDriver.  
 <a href="classmbed_1_1_i2_c_master_rtos.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae440e46e9f31b0b9275f62e6fda76dba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmbed_1_1_i2_c_master_rtos.html#ae440e46e9f31b0b9275f62e6fda76dba">I2CMasterRtos</a> (PinName sda, PinName scl, int freq=400000)</td></tr>
<tr class="memdesc:ae440e46e9f31b0b9275f62e6fda76dba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an I2C Master interface, connected to the specified pins.  <a href="#ae440e46e9f31b0b9275f62e6fda76dba">More...</a><br/></td></tr>
<tr class="separator:ae440e46e9f31b0b9275f62e6fda76dba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab224356fe4ded4c32286514760d39b72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmbed_1_1_i2_c_master_rtos.html#ab224356fe4ded4c32286514760d39b72">frequency</a> (int hz)</td></tr>
<tr class="memdesc:ab224356fe4ded4c32286514760d39b72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the frequency of the I2C interface.  <a href="#ab224356fe4ded4c32286514760d39b72">More...</a><br/></td></tr>
<tr class="separator:ab224356fe4ded4c32286514760d39b72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7acbe33a0e93286c9b70fd73c286d760"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmbed_1_1_i2_c_master_rtos.html#a7acbe33a0e93286c9b70fd73c286d760">read</a> (int address, char *data, int length=1, bool repeated=false)</td></tr>
<tr class="memdesc:a7acbe33a0e93286c9b70fd73c286d760"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read from an I2C slave.  <a href="#a7acbe33a0e93286c9b70fd73c286d760">More...</a><br/></td></tr>
<tr class="separator:a7acbe33a0e93286c9b70fd73c286d760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e7596767401feda26a77b2779059bda"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmbed_1_1_i2_c_master_rtos.html#a0e7596767401feda26a77b2779059bda">read</a> (int address, uint8_t _register, char *data, int length=1, bool repeated=false)</td></tr>
<tr class="memdesc:a0e7596767401feda26a77b2779059bda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read from a given I2C slave register.  <a href="#a0e7596767401feda26a77b2779059bda">More...</a><br/></td></tr>
<tr class="separator:a0e7596767401feda26a77b2779059bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4065d091effdaa015d21ea9e969f64f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmbed_1_1_i2_c_master_rtos.html#a4065d091effdaa015d21ea9e969f64f5">read</a> (int ack)</td></tr>
<tr class="memdesc:a4065d091effdaa015d21ea9e969f64f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a single byte from the I2C bus.  <a href="#a4065d091effdaa015d21ea9e969f64f5">More...</a><br/></td></tr>
<tr class="separator:a4065d091effdaa015d21ea9e969f64f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae79c43b6463b02750da1f850bced1a2c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmbed_1_1_i2_c_master_rtos.html#ae79c43b6463b02750da1f850bced1a2c">write</a> (int address, const char *data, int length=1, bool repeated=false)</td></tr>
<tr class="memdesc:ae79c43b6463b02750da1f850bced1a2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to an I2C slave.  <a href="#ae79c43b6463b02750da1f850bced1a2c">More...</a><br/></td></tr>
<tr class="separator:ae79c43b6463b02750da1f850bced1a2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a520a983545207d3fc14eb04187b7aad2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmbed_1_1_i2_c_master_rtos.html#a520a983545207d3fc14eb04187b7aad2">write</a> (int data)</td></tr>
<tr class="memdesc:a520a983545207d3fc14eb04187b7aad2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write single byte out on the I2C bus.  <a href="#a520a983545207d3fc14eb04187b7aad2">More...</a><br/></td></tr>
<tr class="separator:a520a983545207d3fc14eb04187b7aad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37d7f0abd46b29924ae64834db037bb8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a37d7f0abd46b29924ae64834db037bb8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmbed_1_1_i2_c_master_rtos.html#a37d7f0abd46b29924ae64834db037bb8">start</a> ()</td></tr>
<tr class="memdesc:a37d7f0abd46b29924ae64834db037bb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a start condition on the I2C bus. <br/></td></tr>
<tr class="separator:a37d7f0abd46b29924ae64834db037bb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa278b115d3baae28e0f38d6e05fb13cd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmbed_1_1_i2_c_master_rtos.html#aa278b115d3baae28e0f38d6e05fb13cd">stop</a> ()</td></tr>
<tr class="memdesc:aa278b115d3baae28e0f38d6e05fb13cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a stop condition on the I2C bus If unsccessful because someone on the bus holds the scl line down it returns "false" after 23µs In normal operation the stop shouldn't take longer than 12µs @ 100kHz and 3-4µs @ 400kHz.  <a href="#aa278b115d3baae28e0f38d6e05fb13cd">More...</a><br/></td></tr>
<tr class="separator:aa278b115d3baae28e0f38d6e05fb13cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91e57d425ccd7043599faaa05e91db4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmbed_1_1_i2_c_master_rtos.html#ac91e57d425ccd7043599faaa05e91db4">lock</a> ()</td></tr>
<tr class="memdesc:ac91e57d425ccd7043599faaa05e91db4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until the interface becomes available.  <a href="#ac91e57d425ccd7043599faaa05e91db4">More...</a><br/></td></tr>
<tr class="separator:ac91e57d425ccd7043599faaa05e91db4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1e88fdba2b9cc929a8cb188a8b98242"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad1e88fdba2b9cc929a8cb188a8b98242"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmbed_1_1_i2_c_master_rtos.html#ad1e88fdba2b9cc929a8cb188a8b98242">unlock</a> ()</td></tr>
<tr class="memdesc:ad1e88fdba2b9cc929a8cb188a8b98242"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock the interface that has previously been locked by the same thread. <br/></td></tr>
<tr class="separator:ad1e88fdba2b9cc929a8cb188a8b98242"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ad2da5a319a717a631ac3cf4bcd4f2bd2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad2da5a319a717a631ac3cf4bcd4f2bd2"></a>
<a class="el" href="classmbed_1_1_i2_c_driver.html">I2CDriver</a>&#160;</td><td class="memItemRight" valign="bottom"><b>m_drv</b></td></tr>
<tr class="separator:ad2da5a319a717a631ac3cf4bcd4f2bd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>I2C master interface to the RTOS-I2CDriver. </p>
<p>The interface is compatible to the original mbed I2C class. Provides an additonal "read from register"-function. </p>
</div><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for mbed::I2CMasterRtos:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classmbed_1_1_i2_c_master_rtos__coll__graph.png" border="0" usemap="#mbed_1_1_i2_c_master_rtos_coll__map" alt="Collaboration graph"/></div>
<map name="mbed_1_1_i2_c_master_rtos_coll__map" id="mbed_1_1_i2_c_master_rtos_coll__map">
<area shape="rect" id="node2" href="classmbed_1_1_i2_c_driver.html" title="I2C driver based on mbed RTOS and I2C&#45;C&#45;API. " alt="" coords="35,109,160,136"/><area shape="rect" id="node3" href="structmbed_1_1_i2_c_driver_1_1_channel.html" title="mbed::I2CDriver::Channel" alt="" coords="5,5,189,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae440e46e9f31b0b9275f62e6fda76dba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mbed::I2CMasterRtos::I2CMasterRtos </td>
          <td>(</td>
          <td class="paramtype">PinName&#160;</td>
          <td class="paramname"><em>sda</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PinName&#160;</td>
          <td class="paramname"><em>scl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>freq</em> = <code>400000</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create an I2C Master interface, connected to the specified pins. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sda</td><td>I2C data line pin </td></tr>
    <tr><td class="paramname">scl</td><td>I2C clock line pin</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Has to be created in a thread context, i.e. within the main or some other function. A global delaration does not work </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab224356fe4ded4c32286514760d39b72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mbed::I2CMasterRtos::frequency </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hz</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the frequency of the I2C interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hz</td><td>The bus frequency in hertz </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac91e57d425ccd7043599faaa05e91db4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mbed::I2CMasterRtos::lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wait until the interface becomes available. </p>
<p>Useful if you want to run a sequence of command without interrution by another thread. There's no need to call this function for running single request, because all driver functions will lock the device for exclusive access automatically. </p>

</div>
</div>
<a class="anchor" id="a7acbe33a0e93286c9b70fd73c286d760"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mbed::I2CMasterRtos::read </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>repeated</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read from an I2C slave. </p>
<p>Performs a complete read transaction. The bottom bit of the address is forced to 1 to indicate a read.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>8-bit I2C slave address [ addr | 1 ] </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the byte-array to read data in to </td></tr>
    <tr><td class="paramname">length</td><td>Number of bytes to read </td></tr>
    <tr><td class="paramname">repeated</td><td>Repeated start, true - don't send stop at end</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success (ack), non-0 on failure (nack) </dd></dl>

</div>
</div>
<a class="anchor" id="a0e7596767401feda26a77b2779059bda"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mbed::I2CMasterRtos::read </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>_register</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>repeated</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read from a given I2C slave register. </p>
<p>Performs a complete write-register-read-data-transaction. The bottom bit of the address is forced to 1 to indicate a read.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>8-bit I2C slave address [ addr | 1 ] </td></tr>
    <tr><td class="paramname">_register</td><td>8-bit regster address </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the byte-array to read data in to </td></tr>
    <tr><td class="paramname">length</td><td>Number of bytes to read </td></tr>
    <tr><td class="paramname">repeated</td><td>Repeated start, true - don't send stop at end</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success (ack), non-0 on failure (nack) </dd></dl>

</div>
</div>
<a class="anchor" id="a4065d091effdaa015d21ea9e969f64f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mbed::I2CMasterRtos::read </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read a single byte from the I2C bus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ack</td><td>indicates if the byte is to be acknowledged (1 = acknowledge)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the byte read </dd></dl>

</div>
</div>
<a class="anchor" id="aa278b115d3baae28e0f38d6e05fb13cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mbed::I2CMasterRtos::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a stop condition on the I2C bus If unsccessful because someone on the bus holds the scl line down it returns "false" after 23µs In normal operation the stop shouldn't take longer than 12µs @ 100kHz and 3-4µs @ 400kHz. </p>

</div>
</div>
<a class="anchor" id="ae79c43b6463b02750da1f850bced1a2c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mbed::I2CMasterRtos::write </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>repeated</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write to an I2C slave. </p>
<p>Performs a complete write transaction. The bottom bit of the address is forced to 0 to indicate a write.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>8-bit I2C slave address [ addr | 0 ] </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the byte-array data to send </td></tr>
    <tr><td class="paramname">length</td><td>Number of bytes to send </td></tr>
    <tr><td class="paramname">repeated</td><td>Repeated start, true - do not send stop at end</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success (ack), non-0 on failure (nack) </dd></dl>

</div>
</div>
<a class="anchor" id="a520a983545207d3fc14eb04187b7aad2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mbed::I2CMasterRtos::write </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write single byte out on the I2C bus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>data to write out on bus</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>'1' if an ACK was received, '0' otherwise </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>firmware/common2015/drivers/rtos-i2c/<a class="el" href="_i2_c_master_rtos_8hpp_source.html">I2CMasterRtos.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>mbed</b></li><li class="navelem"><a class="el" href="classmbed_1_1_i2_c_master_rtos.html">I2CMasterRtos</a></li>
    <li class="footer">Generated on Sun Apr 3 2016 19:42:08 for GT RoboCup SSL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
